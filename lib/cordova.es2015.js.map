{"version":3,"file":null,"sources":["../src/utils.js","../src/main.js"],"sourcesContent":["'use strict'\n\nexport default {\n  // 格式化返回数据\n  jsonParse(str){\n    if (typeof str === 'String') return JSON.parser(str);\n    return str;\n  },\n\n  /*\n  ** @option Object\n  *  hook => 挂栽点 String\n  *  event => 方法 String\n  *  params => 参数 Array default []\n  *  success => 成功回调函数 Function 非必须\n  *  error => 失败回调函数 Function 非必须\n  *\n  *  支持3种调用方式\n  */\n  bindEvents(option){\n    let self = this;\n    return function(params){\n      // promise\n      let promise = new Promise((resolve, reject) => {\n        cordova.exec(result => {\n          result = self.jsonParse(result);\n          params && params.success && params.success(result);\n          resolve(result);\n        }, error =>{\n          error = self.jsonParse(error);\n          params && params.error && params.error(error);\n          reject(error);\n        },\n        option.event, option.hook,\n        params.params || []);\n      });\n      // success\n      promise.success = fn => {\n        promise.then(result => {\n          fn(result);\n        });\n        return promise;\n      };\n      // error\n      promise.error = fn => {\n        promise.then(null, result => {\n          fn(result);\n        });\n        return promise;\n      }\n\n      return promise;\n    };\n  }\n};\n","import Utils from './utils.js';\nimport CordovaJson from './cordova.json';\n\nlet workplus = {};\n\nfor(let cordova of CordovaJson.values()){\n   workplus[cordova.name] = Utils.bindEvents(cordova.option);\n}\n\nexport default workplus;\n"],"names":["cordova"],"mappings":"AAEA,YAAe,CACb,GAAA;AACA,GAAA,WAFa,qBAEH,GAFG,EAEC;AACZ,GAAA,QAAI,OAAO,GAAP,KAAe,QAAnB,EAA6B,OAAO,KAAK,MAAL,CAAY,GAAZ,CAAP;AAC7B,GAAA,WAAO,GAAP;AACD,GAAA,GALY;;;AAOb,GAAA;;;;;;;;;;AAUA,GAAA,YAjBa,sBAiBF,MAjBE,EAiBK;AAChB,GAAA,QAAI,OAAO,IAAX;AACA,GAAA,WAAO,UAAS,MAAT,EAAgB;AACrB,GAAA;AACA,GAAA,UAAI,UAAU,IAAI,OAAJ,CAAY,UAAC,OAAD,EAAU,MAAV,EAAqB;AAC7C,GAAA,gBAAQ,IAAR,CAAa,kBAAU;AACrB,GAAA,mBAAS,KAAK,SAAL,CAAe,MAAf,CAAT;AACA,GAAA,oBAAU,OAAO,OAAjB,IAA4B,OAAO,OAAP,CAAe,MAAf,CAA5B;AACA,GAAA,kBAAQ,MAAR;AACD,GAAA,SAJD,EAIG,iBAAQ;AACT,GAAA,kBAAQ,KAAK,SAAL,CAAe,KAAf,CAAR;AACA,GAAA,oBAAU,OAAO,KAAjB,IAA0B,OAAO,KAAP,CAAa,KAAb,CAA1B;AACA,GAAA,iBAAO,KAAP;AACD,GAAA,SARD,EASA,OAAO,KATP,EASc,OAAO,IATrB,EAUA,OAAO,MAAP,IAAiB,EAVjB;AAWD,GAAA,OAZa,CAAd;AAaA,GAAA;AACA,GAAA,cAAQ,OAAR,GAAkB,cAAM;AACtB,GAAA,gBAAQ,IAAR,CAAa,kBAAU;AACrB,GAAA,aAAG,MAAH;AACD,GAAA,SAFD;AAGA,GAAA,eAAO,OAAP;AACD,GAAA,OALD;AAMA,GAAA;AACA,GAAA,cAAQ,KAAR,GAAgB,cAAM;AACpB,GAAA,gBAAQ,IAAR,CAAa,IAAb,EAAmB,kBAAU;AAC3B,GAAA,aAAG,MAAH;AACD,GAAA,SAFD;AAGA,GAAA,eAAO,OAAP;AACD,GAAA,OALD;;AAOA,GAAA,aAAO,OAAP;AACD,GAAA,KA/BD;AAgCD,GAAA;AAnDY,GAAA,CAAf;;;;;;;;;;;;;;;ACCA,IAAI,WAAW,EAAf;;;;;;;AAEA,GAAA,wBAAmB,YAAY,MAAZ,EAAnB,8HAAwC;AAAA,GAAA,UAAhCA,SAAgC;;AACrC,GAAA,eAASA,UAAQ,IAAjB,IAAyB,MAAM,UAAN,CAAiBA,UAAQ,MAAzB,CAAzB;AACF,GAAA;;;;;;;;;;;;;;IAED;;"}